<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEPILINE | Future Vision</title>
    
    <!-- Iconos -->
    <script src="https://unpkg.com/phosphor-icons"></script>
    
    <style>
        /* =========================================
           1. CORE & VARIABLES
           ========================================= */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        :root {
            --bg-body: #F9F9F9;
            --bg-white: #FFFFFF;
            --text-main: #1a1a1a;
            --text-muted: #737373;
            --border: #e5e5e5;
            --accent: #333;
            --success: #10B981;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        body { font-family: 'Inter', sans-serif; background: var(--bg-body); color: var(--text-main); overflow-x: hidden; }
        button { background: none; border: none; cursor: pointer; color: inherit; font-family: inherit; }
        img { display: block; width: 100%; height: auto; }
        
        /* Utilitarios */
        .hidden { display: none !important; }
        .view-section { display: none; opacity: 0; transition: opacity 0.5s ease; }
        .view-section.active { display: block; opacity: 1; }
        
        /* =========================================
           2. HEADER
           ========================================= */
        .navbar { position: sticky; top: 0; z-index: 100; background: rgba(249, 249, 249, 0.85); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border); height: 64px; }
        .nav-container { max-width: 1800px; margin: 0 auto; padding: 0 24px; height: 100%; display: flex; justify-content: space-between; align-items: center; }
        .nav-group { display: flex; align-items: center; gap: 32px; height: 100%; }
        
        .nav-item-has-menu { height: 100%; display: flex; align-items: center; position: relative; }
        
        .nav-link { font-size: 13px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; position: relative; padding: 5px 0; transition: color 0.3s; display: flex; align-items: center; height: 100%; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 1px; bottom: 20px; left: 0; background-color: #333; transition: width 0.3s ease; }
        .nav-link:hover { color: black; }
        .nav-link:hover::after { width: 100%; }

        .logo h1 { font-size: 28px; font-weight: 900; letter-spacing: -1px; text-transform: lowercase; cursor: pointer; transition: transform 0.3s; }
        .logo h1:hover { transform: scale(1.05); }

        .header-avatar { width: 32px; height: 32px; background: #ddd; border-radius: 50%; overflow: hidden; display: none; cursor: pointer; border: 1px solid #333; }
        .header-avatar.show { display: block; }
        .header-avatar img { width: 100%; height: 100%; object-fit: cover; }

        /* MEGA MENU */
        .mega-menu-wrapper { position: absolute; top: 100%; left: 0; width: 100vw; background: white; border-bottom: 1px solid var(--border); padding: 40px 0; opacity: 0; visibility: hidden; transform: translateY(10px); transition: all 0.3s ease; pointer-events: none; box-shadow: 0 20px 40px rgba(0,0,0,0.05); }
        .nav-item-has-menu:hover .mega-menu-wrapper { opacity: 1; visibility: visible; transform: translateY(0); pointer-events: auto; }
        .mega-grid { max-width: 1400px; margin: 0 auto; display: grid; grid-template-columns: repeat(4, 1fr); gap: 40px; padding: 0 40px; }
        .mega-card { cursor: pointer; transition: transform 0.3s; }
        .mega-card:hover { transform: translateY(-5px); }
        .mega-img { background: #F4F4F4; height: 200px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; border-radius: 8px; }
        .mega-img img { height: 140px; width: auto; mix-blend-mode: multiply; }

        /* =========================================
           3. UI COMPONENTS
           ========================================= */
        .btn-primary { background: var(--text-main); color: white; padding: 14px 32px; border-radius: 100px; font-weight: 700; text-transform: uppercase; font-size: 12px; letter-spacing: 0.1em; transition: 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .btn-primary:hover { transform: scale(1.05); background: black; box-shadow: 0 8px 20px rgba(0,0,0,0.2); }
        
        #toast { position: fixed; top: 30px; left: 50%; transform: translate(-50%, -100%); background: white; padding: 16px 24px; border-radius: 50px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 12px; z-index: 2000; opacity: 0; transition: all 0.5s; border: 1px solid #eee; }
        #toast.show { transform: translate(-50%, 0); opacity: 1; }
        .toast-icon { width: 24px; height: 24px; background: var(--success); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; }

        /* =========================================
           4. VISTA: TIENDA
           ========================================= */
        .shop-grid { max-width: 1400px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 40px; padding: 60px 24px 100px; }
        .product-card { position: relative; transition: transform 0.3s; }
        .product-card:hover { transform: translateY(-10px); }
        .pc-img { background: #F0F0F0; aspect-ratio: 4/5; margin-bottom: 20px; overflow: hidden; border-radius: 12px; }
        .pc-img img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s; }
        .product-card:hover .pc-img img { transform: scale(1.1); }
        .pc-name { font-weight: 700; font-size: 14px; text-transform: uppercase; }
        .pc-btn { width: 100%; border: 1px solid var(--text-main); padding: 12px; margin-top: 15px; border-radius: 8px; font-weight: 600; text-transform: uppercase; font-size: 11px; transition: 0.2s; }
        .pc-btn:hover { background: var(--text-main); color: white; }

        /* =========================================
           5. VISTA: AUTH & PERFIL
           ========================================= */
        .auth-container { min-height: calc(100vh - 64px); display: flex; }
        .auth-visual { flex: 1; background: #E0E0E0; position: relative; overflow: hidden; display: none; }
        @media(min-width: 768px) { .auth-visual { display: block; } }
        .auth-visual img { width: 100%; height: 100%; object-fit: cover; }
        .auth-form-wrapper { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 40px; background: #fff; }
        .auth-box { width: 100%; max-width: 400px; text-align: center; }
        .input-std { width: 100%; padding: 16px; margin-bottom: 16px; border: 1px solid #eee; background: #f9f9f9; border-radius: 8px; font-size: 14px; transition: 0.3s; }
        .input-std:focus { background: white; border-color: #333; box-shadow: 0 0 0 4px rgba(0,0,0,0.05); }

        .profile-container { max-width: 1000px; margin: 60px auto; padding: 0 24px; display: grid; grid-template-columns: 1fr 2fr; gap: 60px; }
        .profile-sidebar { text-align: center; }
        .profile-avatar-box { width: 150px; height: 150px; margin: 0 auto 20px; border-radius: 50%; overflow: hidden; position: relative; border: 2px solid #eee; cursor: pointer; transition: 0.3s; }
        .profile-avatar-box:hover { border-color: #333; }
        .profile-avatar-box img { width: 100%; height: 100%; object-fit: cover; }
        .avatar-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; opacity: 0; transition: 0.3s; color: white; font-size: 24px; }
        .profile-avatar-box:hover .avatar-overlay { opacity: 1; }

        /* =========================================
           6. VISTA: NOSOTROS (ANIMACIÓN ZOOM MEJORADA)
           ========================================= */
        .about-container { display: flex; height: calc(100vh - 64px); overflow: hidden; }
        .about-nav { width: 300px; background: white; border-right: 1px solid var(--border); padding: 40px; overflow-y: auto; display: flex; flex-direction: column; justify-content: center; }
        .chapter-btn { text-align: left; padding: 20px 0; border-bottom: 1px solid #eee; font-size: 13px; font-weight: 600; color: #999; text-transform: uppercase; letter-spacing: 0.05em; transition: 0.3s; position: relative; }
        .chapter-btn:hover { color: #666; }
        .chapter-btn.active { color: #333; padding-left: 20px; border-bottom-color: #333; }
        .chapter-btn.active::before { content: '●'; position: absolute; left: 0; font-size: 10px; color: var(--text-main); top: 50%; transform: translateY(-50%); }

        .about-content { flex: 1; position: relative; background: #F9F9F9; overflow: hidden; }
        .chapter-page { position: absolute; inset: 0; padding: 60px 100px; display: flex; flex-direction: column; justify-content: center; opacity: 0; transform: translateY(30px); transition: 0.6s cubic-bezier(0.16, 1, 0.3, 1); pointer-events: none; }
        .chapter-page.active { opacity: 1; transform: translateY(0); pointer-events: auto; }
        
        .ch-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 40px; border-bottom: 1px solid #ddd; padding-bottom: 20px; }
        .ch-num { font-size: 100px; font-weight: 900; color: #EAEAEA; line-height: 0.8; }
        .ch-title { font-size: 40px; font-weight: 800; text-transform: uppercase; color: #333; }
        
        .ch-body { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center; }
        .ch-text { font-size: 16px; color: #555; line-height: 1.7; }
        
        /* ZOOM ANIMATION FOR ABOUT US */
        .ch-img-box { border-radius: 12px; overflow: hidden; height: 350px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); cursor: pointer; }
        .ch-img-box img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
        .ch-img-box:hover img { transform: scale(1.15); }

        /* =========================================
           7. VISTA: FUTURO (ASOMBROSO)
           ========================================= */
        .future-wrapper { height: calc(100vh - 64px); background: #000; color: white; position: relative; overflow: hidden; }
        
        .f-slide { position: absolute; inset: 0; opacity: 0; transition: opacity 1s ease; pointer-events: none; }
        .f-slide.active { opacity: 1; pointer-events: auto; }

        /* Full Background Image */
        .f-bg { position: absolute; inset: 0; z-index: 1; }
        .f-bg img { width: 100%; height: 100%; object-fit: cover; transform: scale(1); transition: transform 10s ease; }
        .f-slide.active .f-bg img { transform: scale(1.1); /* Ken Burns effect */ }
        
        /* Overlay Gradient */
        .f-overlay { position: absolute; inset: 0; z-index: 2; background: linear-gradient(to top, rgba(0,0,0,0.9) 10%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.2) 100%); }

        /* Content Container */
        .f-content { position: relative; z-index: 3; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; }

        /* Text Animations */
        .anim-up { transform: translateY(50px); opacity: 0; filter: blur(10px); transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        .f-slide.active .anim-up { transform: translateY(0); opacity: 1; filter: blur(0px); }
        
        .delay-1 { transition-delay: 0.2s; }
        .delay-2 { transition-delay: 0.4s; }
        .delay-3 { transition-delay: 0.6s; }

        .f-num { font-size: 16px; font-weight: 700; letter-spacing: 0.4em; color: rgba(255,255,255,0.7); margin-bottom: 20px; text-transform: uppercase; border: 1px solid rgba(255,255,255,0.3); padding: 8px 20px; border-radius: 50px; backdrop-filter: blur(5px); }
        .f-title { font-size: 8vw; font-weight: 900; line-height: 0.9; margin-bottom: 20px; letter-spacing: -3px; text-transform: uppercase; text-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .f-desc { font-size: 22px; color: rgba(255,255,255,0.9); max-width: 700px; line-height: 1.5; font-weight: 300; }

        /* Controls */
        .f-controls { position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; z-index: 10; }
        .f-progress { width: 60px; height: 4px; background: rgba(255,255,255,0.2); border-radius: 2px; overflow: hidden; }
        .f-bar { height: 100%; width: 0%; background: white; transition: width 0.3s; }
        .f-slide.active ~ .f-controls .f-progress .f-bar { width: 100%; } /* Logic handle in JS better */
        
        .f-dot { width: 10px; height: 10px; border-radius: 50%; background: rgba(255,255,255,0.3); cursor: pointer; transition: 0.3s; }
        .f-dot.active { background: white; transform: scale(1.3); }

        /* =========================================
           8. OVERLAYS: CARRO
           ========================================= */
        .overlay { position: fixed; inset: 0; z-index: 200; visibility: hidden; }
        .overlay.open { visibility: visible; }
        .overlay-bg { position: absolute; inset: 0; background: rgba(0,0,0,0.5); opacity: 0; transition: 0.3s; backdrop-filter: blur(5px); }
        .overlay.open .overlay-bg { opacity: 1; }
        
        .cart-drawer { position: absolute; top: 0; right: 0; width: 450px; height: 100%; background: #F7F7F7; transform: translateX(100%); transition: 0.5s cubic-bezier(0.16, 1, 0.3, 1); display: flex; flex-direction: column; }
        .overlay.open .cart-drawer { transform: translateX(0); }

        .cart-top { padding: 30px 24px; background: #F7F7F7; }
        .cart-empty-msg { text-align: center; color: #666; font-size: 16px; margin-bottom: 10px; }
        .shipping-tracker { margin-top: 10px; }
        .bar-bg { width: 100%; height: 4px; background: #E0E0E0; border-radius: 2px; overflow: hidden; margin-bottom: 8px; }
        .bar-fill { height: 100%; background: #333; width: 0%; transition: width 0.5s ease; }
        .shipping-text { font-size: 12px; text-align: center; color: #666; }

        .cart-items { flex: 1; overflow-y: auto; padding: 0 24px; background: #fff; border-top: 1px solid #eee; border-bottom: 1px solid #eee; }
        .cart-item { display: flex; padding: 20px 0; border-bottom: 1px solid #f4f4f4; }
        .ci-img { width: 70px; height: 70px; object-fit: cover; border-radius: 4px; background: #f9f9f9; }
        .ci-details { margin-left: 15px; flex: 1; }
        .ci-name { font-weight: 700; font-size: 13px; text-transform: uppercase; }
        .ci-price { font-size: 13px; color: #777; margin-top: 4px; }

        .upsell-section { background: white; padding: 20px 24px; }
        .upsell-title { font-size: 13px; color: #666; margin-bottom: 15px; text-align: center; }
        .upsell-card { background: #fff; border: 1px solid #eee; border-radius: 12px; padding: 10px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 4px 10px rgba(0,0,0,0.03); }
        .upsell-img { width: 40px; height: 40px; object-fit: contain; }
        .upsell-info { text-align: left; margin-left: 10px; flex: 1; }
        .upsell-btn { background: #5E5E5E; color: white; border-radius: 20px; padding: 6px 15px; font-size: 11px; font-weight: 700; text-transform: uppercase; }
        
        .cart-footer { padding: 24px; background: #F7F7F7; }
        .cart-total-row { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 14px; font-weight: 500; color: #666; }
        .btn-checkout { width: 100%; background: #5E5E5E; color: white; padding: 16px; border-radius: 50px; font-weight: 700; text-transform: uppercase; font-size: 13px; letter-spacing: 0.05em; transition: 0.3s; }
        .btn-checkout:hover { background: #333; }
        
        /* Search */
        .search-modal { position: absolute; top: 0; left: 0; width: 100%; height: 400px; background: white; transform: translateY(-100%); transition: 0.5s ease; padding: 80px 40px; display: flex; flex-direction: column; align-items: center; box-shadow: 0 10px 40px rgba(0,0,0,0.2); }
        .overlay.open .search-modal { transform: translateY(0); }
        .search-input { width: 100%; max-width: 800px; font-size: 50px; font-weight: 800; border: none; border-bottom: 3px solid #000; padding: 10px 0; text-transform: uppercase; }

        @media (max-width: 768px) {
            .f-title { font-size: 40px; }
            .profile-container { grid-template-columns: 1fr; }
            .cart-drawer { width: 100%; }
        }
    </style>
</head>
<body>

    <!-- NOTIFICACIÓN -->
    <div id="toast">
        <div class="toast-icon"><i class="ph-check-bold"></i></div>
        <span id="toast-msg">Acción realizada</span>
    </div>

    <!-- HEADER -->
    <div class="sticky-top">
        <div class="navbar">
            <div class="nav-container">
                <div class="nav-group">
                    <div class="nav-item-has-menu">
                        <button onclick="router('shop')" class="nav-link">Tienda</button>
                        <div class="mega-menu-wrapper">
                            <div class="mega-grid">
                                <div class="mega-card"><div class="mega-img"><img src="https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=1887"></div><div style="font-size:11px; font-weight:700;">NOVEDADES</div></div>
                                <div class="mega-card"><div class="mega-img"><img src="https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?q=80&w=2670"></div><div style="font-size:11px; font-weight:700;">SERUMS</div></div>
                                <div class="mega-card"><div class="mega-img"><img src="https://images.unsplash.com/photo-1556228720-1987bb7cb195?q=80&w=2070"></div><div style="font-size:11px; font-weight:700;">CUERPO</div></div>
                                <div style="display:flex; flex-direction:column; justify-content:center;">
                                    <h3 style="font-weight:700; font-size:24px; margin-bottom:10px;">The Future<br>of Skin.</h3>
                                    <a href="#" style="text-decoration:underline; font-weight:700; font-size:12px;">VER TODO</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button onclick="router('about')" class="nav-link">Nosotros</button>
                    <button onclick="router('future')" class="nav-link">Futuro</button>
                </div>

                <div class="logo" onclick="router('shop')"><h1>depiline</h1></div>

                <div class="nav-group">
                    <button onclick="toggleOverlay('search')" class="nav-link">Buscar</button>
                    <button id="btn-login-nav" onclick="router('account')" class="nav-link">Entrar</button>
                    <div id="btn-profile-nav" class="hidden" style="display:flex; align-items:center; gap:10px;">
                        <button onclick="router('profile')" class="nav-link">Mi Perfil</button>
                        <div class="header-avatar" id="header-avatar-img" onclick="router('profile')"></div>
                    </div>
                    <button onclick="toggleOverlay('cart')" class="nav-link">Carro (<span id="cart-counter">0</span>)</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <main>

        <!-- 1. VISTA TIENDA -->
        <section id="view-shop" class="view-section active">
            <div style="text-align:center; padding: 60px 0 20px;">
                <h2 style="font-size:12px; font-weight:800; letter-spacing:0.2em; color:#999; margin-bottom:10px;">CATÁLOGO 2025</h2>
                <h1 style="font-size:40px; font-weight:800; letter-spacing:-1px;">BEST SELLERS</h1>
            </div>
            <div class="shop-grid" id="shop-grid"></div>
        </section>

        <!-- 2. VISTA CUENTA -->
        <section id="view-account" class="view-section">
            <div id="auth-login" class="auth-container">
                <div class="auth-visual"><img src="https://images.unsplash.com/photo-1616394584738-fc6e612e71b9?q=80&w=2070"></div>
                <div class="auth-form-wrapper">
                    <div class="auth-box">
                        <h2 style="font-size:32px; font-weight:700; margin-bottom:30px;">Bienvenido</h2>
                        <form onsubmit="handleLogin(event)">
                            <input type="email" id="login-email" class="input-std" placeholder="Email" required>
                            <input type="password" id="login-pass" class="input-std" placeholder="Contraseña" required>
                            <button type="submit" class="btn-primary" style="width:100%; margin-top:10px;">Iniciar Sesión</button>
                        </form>
                        <p style="margin-top:20px; font-size:13px; color:#777;">¿No tienes cuenta? <span onclick="toggleAuth('register')" style="color:#000; font-weight:700; cursor:pointer; text-decoration:underline;">Regístrate</span></p>
                    </div>
                </div>
            </div>
            <div id="auth-register" class="auth-container hidden">
                <div class="auth-visual"><img src="https://images.unsplash.com/photo-1556228720-1987bb7cb195?q=80&w=2070"></div>
                <div class="auth-form-wrapper">
                    <div class="auth-box">
                        <h2 style="font-size:32px; font-weight:700; margin-bottom:30px;">Crear Cuenta</h2>
                        <form onsubmit="handleRegister(event)">
                            <input type="text" id="reg-name" class="input-std" placeholder="Nombre Completo" required>
                            <input type="email" id="reg-email" class="input-std" placeholder="Email" required>
                            <input type="password" id="reg-pass" class="input-std" placeholder="Contraseña" required>
                            <button type="submit" class="btn-primary" style="width:100%; margin-top:10px;">Registrarse</button>
                        </form>
                        <p style="margin-top:20px; font-size:13px; color:#777;">¿Ya tienes cuenta? <span onclick="toggleAuth('login')" style="color:#000; font-weight:700; cursor:pointer; text-decoration:underline;">Inicia Sesión</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. VISTA PERFIL -->
        <section id="view-profile" class="view-section">
            <div class="profile-container">
                <div class="profile-sidebar">
                    <div class="profile-avatar-box" onclick="document.getElementById('avatar-upload').click()">
                        <img id="profile-img-preview" src="https://via.placeholder.com/150/cccccc/ffffff?text=Avatar" alt="Avatar">
                        <div class="avatar-overlay"><i class="ph-camera"></i></div>
                    </div>
                    <input type="file" id="avatar-upload" hidden accept="image/*" onchange="updateAvatar(this)">
                    <h3 id="profile-name-display" style="font-size:20px; font-weight:700;">Usuario</h3>
                    <p id="profile-email-display" style="color:#777; font-size:14px; margin-bottom:20px;">usuario@email.com</p>
                    <button onclick="handleLogout()" style="color:red; font-size:12px; font-weight:700; text-transform:uppercase; text-decoration:underline;">Cerrar Sesión</button>
                </div>
                <div class="profile-content">
                    <h2>Datos Personales</h2>
                    <form onsubmit="handleUpdateProfile(event)">
                        <div class="form-group" style="margin-bottom:20px;">
                            <label style="display:block; font-size:12px; font-weight:700; color:#777; margin-bottom:5px;">Nombre Completo</label>
                            <input type="text" id="prof-name" class="input-std">
                        </div>
                        <div class="form-group" style="margin-bottom:20px;">
                            <label style="display:block; font-size:12px; font-weight:700; color:#777; margin-bottom:5px;">Correo Electrónico</label>
                            <input type="email" id="prof-email" class="input-std">
                        </div>
                        <h2 style="margin-top:40px;">Seguridad</h2>
                        <div class="form-group">
                            <label style="display:block; font-size:12px; font-weight:700; color:#777; margin-bottom:5px;">Nueva Contraseña</label>
                            <input type="password" id="prof-pass" class="input-std" placeholder="Dejar en blanco para no cambiar">
                        </div>
                        <div style="text-align:right; margin-top:20px;">
                            <button type="submit" class="btn-primary">Guardar Cambios</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- 4. VISTA NOSOTROS (ZOOM HOVER) -->
        <section id="view-about" class="view-section">
            <div class="about-container">
                <div class="about-nav" id="about-nav"></div>
                <div class="about-content" id="about-content"></div>
            </div>
        </section>

        <!-- 5. VISTA FUTURO (ASOMBROSA) -->
        <section id="view-future" class="view-section">
            <div class="future-wrapper" onclick="nextSlide()">
                
                <!-- Slide 1 -->
                <div class="f-slide active" id="f-slide-0">
                    <div class="f-bg"><img src="https://images.unsplash.com/photo-1550684848-fac1c5b4e853?q=80&w=2070"></div>
                    <div class="f-overlay"></div>
                    <div class="f-content">
                        <div class="anim-up delay-1 f-num">01 / 07</div>
                        <div class="anim-up delay-2 f-title">DIGITAL<br>SKIN</div>
                        <div class="anim-up delay-3 f-desc">Diagnóstico I.A. en tiempo real.</div>
                    </div>
                </div>

                <!-- Slide 2 -->
                <div class="f-slide" id="f-slide-1">
                    <div class="f-bg"><img src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?q=80&w=2013"></div>
                    <div class="f-overlay"></div>
                    <div class="f-content">
                        <div class="anim-up delay-1 f-num">02 / 07</div>
                        <div class="anim-up delay-2 f-title">BIO<br>PLÁSTICOS</div>
                        <div class="anim-el delay-3 f-desc">Envases cultivados de micelio.</div>
                    </div>
                </div>

                 <!-- Slide 3 -->
                 <div class="f-slide" id="f-slide-2">
                    <div class="f-bg"><img src="https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=1887"></div>
                    <div class="f-overlay"></div>
                    <div class="f-content">
                        <div class="anim-up delay-1 f-num">03 / 07</div>
                        <div class="anim-up delay-2 f-title">NANO<br>SERUMS</div>
                        <div class="anim-up delay-3 f-desc">Absorción molecular inteligente.</div>
                    </div>
                </div>

                 <!-- Slide 4 -->
                 <div class="f-slide" id="f-slide-3">
                    <div class="f-bg"><img src="https://images.unsplash.com/photo-1496442226666-8d4a0e62e6e9?q=80&w=2070"></div>
                    <div class="f-overlay"></div>
                    <div class="f-content">
                        <div class="anim-up delay-1 f-num">04 / 07</div>
                        <div class="anim-up delay-2 f-title">TOKIO<br>LAB</div>
                        <div class="anim-up delay-3 f-desc">Investigación en el corazón de Asia.</div>
                    </div>
                </div>

                <!-- Slide 5 -->
                 <div class="f-slide" id="f-slide-4">
                    <div class="f-bg"><img src="https://images.unsplash.com/photo-1581093450021-4a7360e9a6b5?q=80&w=2070"></div>
                    <div class="f-overlay"></div>
                    <div class="f-content">
                        <div class="anim-up delay-1 f-num">05 / 07</div>
                        <div class="anim-up delay-2 f-title">HOME<br>TECH</div>
                        <div class="anim-up delay-3 f-desc">Láser médico en tu hogar.</div>
                    </div>
                </div>

                 <!-- Slide 6 -->
                 <div class="f-slide" id="f-slide-5">
                    <div class="f-bg"><img src="https://images.unsplash.com/photo-1502082553048-f009c37129b9?q=80&w=2070"></div>
                    <div class="f-overlay"></div>
                    <div class="f-content">
                        <div class="anim-up delay-1 f-num">06 / 07</div>
                        <div class="anim-up delay-2 f-title">NET<br>ZERO</div>
                        <div class="anim-up delay-3 f-desc">Huella negativa para 2026.</div>
                    </div>
                </div>

                 <!-- Slide 7 -->
                 <div class="f-slide" id="f-slide-6">
                    <div class="f-bg"><img src="https://images.unsplash.com/photo-1566737236500-c8ac43014a67?q=80&w=2070"></div>
                    <div class="f-overlay"></div>
                    <div class="f-content">
                        <div class="anim-up delay-1 f-num">07 / 07</div>
                        <div class="anim-up delay-2 f-title">THE<br>CLUB</div>
                        <div class="anim-up delay-3 f-desc">Membresía Beta Tester exclusiva.</div>
                    </div>
                </div>

                <div class="f-controls">
                    <div class="f-dot active" id="dot-0"></div>
                    <div class="f-dot" id="dot-1"></div>
                    <div class="f-dot" id="dot-2"></div>
                    <div class="f-dot" id="dot-3"></div>
                    <div class="f-dot" id="dot-4"></div>
                    <div class="f-dot" id="dot-5"></div>
                    <div class="f-dot" id="dot-6"></div>
                </div>
            </div>
        </section>

    </main>

    <!-- CARRO OVERLAY -->
    <div id="overlay-cart" class="overlay">
        <div class="overlay-bg" onclick="toggleOverlay('cart')"></div>
        <div class="cart-drawer">
            <div class="cart-top">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div class="cart-empty-msg" id="cart-title">Your cart is currently empty</div>
                    <button onclick="toggleOverlay('cart')"><i class="ph-x" style="font-size:20px;"></i></button>
                </div>
                <div class="shipping-tracker">
                    <div class="bar-bg"><div class="bar-fill" id="ship-fill"></div></div>
                    <p class="shipping-text" id="ship-msg">add $45.000 more for <strong>FREE</strong> shipping</p>
                </div>
            </div>
            <div class="cart-items" id="cart-list"></div>
            <div class="upsell-section">
                <div class="upsell-title">Complete your rhode ROUTINE</div>
                <div class="upsell-card">
                    <div style="display:flex; align-items:center;">
                        <img src="https://images.unsplash.com/photo-1596462502278-27bfdd403348?q=80&w=1000" class="upsell-img">
                        <div class="upsell-info">
                            <div style="font-weight:700; font-size:12px; text-transform:uppercase;">POCKET BLUSH</div>
                            <div style="font-size:11px; color:#777;">piggy</div>
                        </div>
                    </div>
                    <button class="upsell-btn" onclick="addUpsell()">ADD - $25.000</button>
                </div>
            </div>
            <div class="cart-footer">
                <div class="cart-total-row"><span>subtotal</span><span id="cart-total">$0</span></div>
                <div style="font-size:10px; color:#999; margin-bottom:15px;">*shipping, taxes, and discounts calculated at checkout.</div>
                <button class="btn-checkout">CHECKOUT</button>
            </div>
        </div>
    </div>

    <!-- SEARCH OVERLAY -->
    <div id="overlay-search" class="overlay">
        <div class="overlay-bg" onclick="toggleOverlay('search')"></div>
        <div class="search-modal">
            <input type="text" placeholder="BUSCAR..." class="search-input" autofocus>
            <div style="margin-top:40px; display:flex; gap:20px;">
                <div style="text-align:center;">
                    <img src="https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=1887" style="height:100px; background:#f4f4f4; mix-blend-mode:multiply; margin-bottom:10px;">
                    <div style="font-size:12px; font-weight:700;">KIT LÁSER</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA ---
        let cart = [];
        const FREE_SHIPPING_LIMIT = 150000;
        let currentUser = null;
        let registeredUsers = [];

        const products = [
            { id: 1, name: "Kit Post-Láser", price: 45000, img: "https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=1887" },
            { id: 2, name: "Serum Vitamina C", price: 32000, img: "https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?q=80&w=2670" },
            { id: 3, name: "Crema Hidratante", price: 28000, img: "https://images.unsplash.com/photo-1629198688000-71f23e745b6e?q=80&w=1760" },
            { id: 4, name: "Exfoliante Suave", price: 18000, img: "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=1888" },
        ];

        const chapters = [
            { title: "Origen", text: "En 2024, desafiamos la norma. La belleza no tiene por qué doler. Lo que empezó como una idea se convirtió en revolución.", img: "https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?q=80&w=2070" },
            { title: "Filosofía", text: "La piel es el espejo de tu historia. Nosotros solo ayudamos a pulirlo. Creemos en el minimalismo eficaz.", img: "https://images.unsplash.com/photo-1552693673-1bf958298935?q=80&w=2073" },
            { title: "Tecnología", text: "Láser diodo de triple longitud de onda. Precisión milimétrica para todo tipo de pieles, sin excepciones.", img: "https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=1961" },
            { title: "Espacios", text: "Diseñamos clínicas que parecen galerías de arte, no hospitales. El ambiente sana tanto como el tratamiento.", img: "https://images.unsplash.com/photo-1600607686527-6fb886090705?q=80&w=2000" },
            { title: "Equipo", text: "Dermatólogos, ingenieros y artistas trabajando juntos. La multidisciplina es nuestro superpoder.", img: "https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=1887" },
            { title: "Ingredientes", text: "Biotecnología limpia. Sin parabenos, sin crueldad animal. Solo resultados clínicamente probados.", img: "https://images.unsplash.com/photo-1629198688000-71f23e745b6e?q=80&w=1760" },
            { title: "Manifiesto", text: "El futuro de la piel es inteligente, sostenible y sin dolor. Bienvenido a Depiline.", img: "https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?q=80&w=2053" },
        ];

        window.onload = () => { renderShop(); renderAbout(); updateCart(); };

        function router(view) {
             if(view === 'account' && currentUser) view = 'profile';
             document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
             document.getElementById(`view-${view}`).classList.add('active');
             window.scrollTo(0,0);
        }

        function toggleOverlay(id) { document.getElementById(`overlay-${id}`).classList.toggle('open'); }
        function showToast(msg) {
            const t = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }

        function renderShop() {
            const grid = document.getElementById('shop-grid');
            grid.innerHTML = products.map(p => `
                <div class="product-card">
                    <div class="pc-img"><img src="${p.img}"></div>
                    <div class="pc-name">${p.name}</div>
                    <div style="font-size:13px; color:#777; margin-bottom:10px;">$${p.price.toLocaleString()}</div>
                    <button class="pc-btn" onclick="addToCart(${p.id})">ADD TO CART</button>
                </div>
            `).join('');
        }

        function addToCart(id) {
            const prod = products.find(p => p.id === id);
            cart.push(prod);
            updateCart();
            toggleOverlay('cart');
            showToast('Added to cart');
        }
        
        function addUpsell() {
            cart.push({name: "Pocket Blush", price: 25000, img: "https://images.unsplash.com/photo-1596462502278-27bfdd403348?q=80&w=1000"});
            updateCart();
            showToast('Upsell added');
        }

        function updateCart() {
            document.getElementById('cart-counter').innerText = cart.length;
            const list = document.getElementById('cart-list');
            let total = 0;
            if(cart.length === 0) {
                 list.innerHTML = '';
                 document.getElementById('cart-title').innerText = "Your cart is currently empty";
            } else {
                 document.getElementById('cart-title').innerText = "Your Cart";
                 list.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <img src="${item.img}" class="ci-img">
                        <div class="ci-details"><div class="ci-name">${item.name}</div><div class="ci-price">$${item.price.toLocaleString()}</div></div>
                    </div>`).join('');
            }
            cart.forEach(item => total += item.price);
            document.getElementById('cart-total').innerText = '$' + total.toLocaleString();
            const percentage = Math.min((total / FREE_SHIPPING_LIMIT) * 100, 100);
            document.getElementById('ship-fill').style.width = percentage + '%';
            const remaining = FREE_SHIPPING_LIMIT - total;
            const shipMsg = document.getElementById('ship-msg');
            if(total >= FREE_SHIPPING_LIMIT) shipMsg.innerHTML = "You've unlocked <strong>FREE</strong> shipping!";
            else shipMsg.innerHTML = `add $${remaining.toLocaleString()} more for <strong>FREE</strong> shipping`;
        }

        function toggleAuth(type) {
            document.getElementById('auth-login').classList.toggle('hidden');
            document.getElementById('auth-register').classList.toggle('hidden');
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('reg-name').value;
            const email = document.getElementById('reg-email').value;
            const pass = document.getElementById('reg-pass').value;
            registeredUsers.push({name, email, pass, avatar: null});
            showToast('Cuenta creada con éxito');
            setTimeout(() => { toggleAuth('login'); document.getElementById('login-email').value = email; }, 1000);
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const pass = document.getElementById('login-pass').value;
            const user = registeredUsers.find(u => u.email === email && u.pass === pass);
            if(user) { currentUser = user; loginSuccess(); }
            else if (email === 'admin@depiline.com' && pass === '123') { currentUser = {name: 'Admin', email: 'admin@depiline.com', pass: '123', avatar: null}; loginSuccess(); }
            else { alert('Credenciales inválidas'); }
        }

        function loginSuccess() {
            showToast(`Hola, ${currentUser.name}`);
            document.getElementById('btn-login-nav').classList.add('hidden');
            document.getElementById('btn-profile-nav').classList.remove('hidden');
            document.getElementById('btn-profile-nav').style.display = 'flex';
            loadProfileData();
            setTimeout(() => router('profile'), 1000);
        }

        function handleLogout() {
            currentUser = null;
            document.getElementById('btn-login-nav').classList.remove('hidden');
            document.getElementById('btn-profile-nav').classList.add('hidden');
            document.getElementById('btn-profile-nav').style.display = 'none';
            showToast('Sesión cerrada');
            router('shop');
        }

        function loadProfileData() {
            document.getElementById('profile-name-display').innerText = currentUser.name;
            document.getElementById('profile-email-display').innerText = currentUser.email;
            document.getElementById('prof-name').value = currentUser.name;
            document.getElementById('prof-email').value = currentUser.email;
            const avatarImg = document.getElementById('profile-img-preview');
            const navAvatar = document.getElementById('header-avatar-img');
            if(currentUser.avatar) {
                avatarImg.src = currentUser.avatar;
                navAvatar.innerHTML = `<img src="${currentUser.avatar}">`;
                navAvatar.classList.add('show');
            } else {
                avatarImg.src = "https://via.placeholder.com/150/cccccc/ffffff?text=" + currentUser.name.charAt(0);
                navAvatar.innerHTML = "";
                navAvatar.classList.remove('show');
            }
        }
        
        function updateAvatar(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) { currentUser.avatar = e.target.result; loadProfileData(); showToast('Foto actualizada'); }
                reader.readAsDataURL(input.files[0]);
            }
        }
        
        function handleUpdateProfile(e) {
            e.preventDefault();
            currentUser.name = document.getElementById('prof-name').value;
            currentUser.email = document.getElementById('prof-email').value;
            const newPass = document.getElementById('prof-pass').value;
            if(newPass) currentUser.pass = newPass;
            loadProfileData();
            showToast('Perfil actualizado');
        }

        function renderAbout() {
            const nav = document.getElementById('about-nav');
            const content = document.getElementById('about-content');
            chapters.forEach((ch, i) => {
                const btn = document.createElement('button');
                btn.className = `chapter-btn ${i===0?'active':''}`;
                btn.innerText = `0${i+1}. ${ch.title}`;
                btn.onclick = () => setChapter(i);
                nav.appendChild(btn);
                
                const page = document.createElement('div');
                page.className = `chapter-page ${i===0?'active':''}`;
                page.id = `ch-${i}`;
                page.innerHTML = `<div class="ch-header"><div class="ch-num">0${i+1}</div><div class="ch-title">${ch.title}</div></div><div class="ch-body"><p class="ch-text">${ch.text}</p><div class="ch-img-box"><img src="${ch.img}"></div></div>`;
                content.appendChild(page);
            });
        }

        function setChapter(i) {
            document.querySelectorAll('.chapter-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.chapter-btn')[i].classList.add('active');
            document.querySelectorAll('.chapter-page').forEach(p => p.classList.remove('active'));
            document.getElementById(`ch-${i}`).classList.add('active');
        }

        let currentSlide = 0;
        const totalSlides = 7;
        function nextSlide() {
            document.getElementById(`f-slide-${currentSlide}`).classList.remove('active');
            document.getElementById(`dot-${currentSlide}`).classList.remove('active');
            currentSlide = (currentSlide + 1) % totalSlides;
            document.getElementById(`f-slide-${currentSlide}`).classList.add('active');
            document.getElementById(`dot-${currentSlide}`).classList.add('active');
        }
    </script>
</body>
</html>